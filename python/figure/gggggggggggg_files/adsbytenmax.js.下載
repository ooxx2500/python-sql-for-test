!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist",n(n.s=117)}([function(t,e,n){n(1);function r(t){return"function"==typeof t}t.exports={inherit:function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},asArray:function(t){return null==t?[]:Array.isArray(t)?t:[t]},trim:function(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})},isFunction:r,isPromise:function(t){return"object"==typeof t&&r(t.then)}}},function(t,e,n){var r,i=n(44);t.exports=(r=window.Promise,/\{\s*\[native code\]\s*\}/.test(""+r)?window.Promise:i)},function(t,e){var n={},r={};t.exports={register:function(t,e){n[t]||(n[t]=e,(r[t]||[]).forEach((function(t){t(e)})))},shim:function(t,e){n[t]?e(n[t]):(r[t]||(r[t]=[])).push(e)}}},function(t,e){function n(t,e,r){this._adcode=!0,this.type=t||n.TYPES.GENERAL_ERROR,this.cause=e,this.context=r||{};var i=Number(this.type.code);this.isWarning=i>=700&&i<800,this.isUserError=i>=800&&i<900}n.isAdcodeError=function(t){return t&&!0===t._adcode},n.prototype.toString=function(){var t="";if(this.context&&Object.keys(this.context).length>0)try{t=" "+JSON.stringify(this.context)}catch(t){}return"["+this.type.code+"] "+this.type.message+t},n.TYPES={SPACE_ELEMENT_NOT_FOUND:{code:"101",message:"Space element not found",sampling:.001},INVALID_AD_TAG:{code:"102",message:"Invalid ad tag",sampling:.001},INVALID_PRODUCT_TYPE:{code:"103",message:"Invalid product type",sampling:.001},AD_REQUEST_FAILURE:{code:"104",message:"Ad request failure"},PLAN_REQUEST_FAILURE:{code:"105",message:"Plan request failure"},INVALID_SSP_AD_RESPONSE:{code:"202",message:"Invalid SSP ad response"},DETACHED_IFRAME_CONTAINER:{code:"203",message:"Detached iframe container"},INVALID_SSP_PLAN_RESPONSE:{code:"204",message:"Invalid SSP plan response"},RENDERING_ERROR:{code:"300",message:"Rendering error",sampling:.001},INVALID_BANNER_IFRAME_MESSAGE_FORMAT:{code:"302",message:"Invalid banner iframe message format"},INVALID_AD_CONTAINER_TEMPLATE:{code:"303",message:"Invalid ad container template"},FREAKOUT_TIMEOUT:{code:"304",message:"FreakOut timeout",sampling:.001},TARGET_DETACHED:{code:"305",message:"Target element has been detached from parent"},ILLEGAL_TEMPLATE:{code:"306",message:"Template format is illegal or content is empty",sampling:.001},TRACKER_ERROR:{code:"400",message:"Tracker error"},INVALID_TRACKER_URL_FORMAT:{code:"401",message:"Invalid tracker URL format"},USE_OF_DEPRECATED_FEATURE:{code:"700",message:"Use of deprecated feature",sampling:.001},USE_OF_HIDDEN_FIF:{code:"701",message:"Use of data-rmax-hidden-fif attribute",sampling:.001},MOLECULAR_SETUP_SCRIPT_ERROR:{code:"701",message:"Error in molecular ad setup script"},MOLECULAR_MAIN_SCRIPT_ERROR:{code:"702",message:"Error in molecular ad main script"},MOLECULAR_CUSTOM_ERROR:{code:"703",message:"Error reported by molecular ad setup/main script"},MOLECULAR_CUSTOM_SCRIPT_ERROR:{code:"704",message:"Custom script loading error / None existing custom script"},HOOK_HANDLER_ERROR:{code:"800",message:"Hook handler error",sampling:.01},GENERAL_ERROR:{code:"900",message:"General error"},MODULE_ERROR:{code:"901",message:"Module error"}},t.exports=n},function(t,e,n){var r=n(1),i=n(0);function o(){}function s(t){return t}t.exports={nop:o,nop$:function(){return r.resolve()},unsupported:function(){throw new Error("Unsupported operation")},unimplemented:function(){throw new Error("Unimplemented function")},identity:s,sequence:function(){var t=Array.prototype.filter.call(arguments,i.isFunction);switch(t.length){case 0:return o;case 1:return t[0];default:return function(){for(var e=0,n=t.length;e<n;e++)t[e].apply(this,arguments)}}},first:function(t){switch(t.length){case 0:return;case 1:return t[0]();default:return t.slice().reverse().reduce((function(t,e){return function(n){if(void 0!==n)return t(n);var r=e();return void 0===r?t():i.isPromise(r)&&t!==s?r.then(t):r}}),s)()}},catch:function(t){return function(){try{t.apply(this,arguments)}catch(t){console.error(t)}}}}},function(t,e,n){var r=n(1),i=n(4),o=n(18),s=n(10),a=window.MutationObserver||window.WebKitMutationObserver,c={insertDescendant:function(t,e){var n=new a((function(t){(function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].addedNodes.length>0)return!0;return!1})(t)&&e()}));return n.observe(t,{childList:!0,subtree:!0}),function(){n.disconnect()}},removeSelf:function(t,e){var n=new a((function(n){(function(t,e){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(Array.prototype.indexOf.call(i.removedNodes,t)>p)return!0}return!1})(t,n)&&e()}));return n.observe(t.parentNode,{childList:!0}),function(){n.disconnect()}}},u={insertDescendant:function(t,e){return l(t,"DOMNodeInserted",e)},removeSelf:function(t,e){return l(t.parentNode,"DOMNodeRemoved",(function(n){n.target===t&&e()}))}},d={insertDescendant:i.unsupported,removeSelf:i.unsupported},h=a?c:window.addEventListener?u:d;var p=-1;function l(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}function f(t,e){if(void 0!==t.nodeType)return[t];var n=document.createElement("div");for(n.innerHTML=t;e&&e--;)n=n.firstElementChild;return m(n),Array.prototype.slice.call(n.childNodes)}var m=!("srcdoc"in document.createElement("iframe"))||o.isIOSLine?function(t){t.querySelectorAll&&Array.prototype.forEach.call(t.querySelectorAll("iframe"),_)}:i.nop;function _(t){var e=t.getAttribute("srcdoc");if(!t.getAttribute("src")&&e)if(o.isIOSLine){var n='javascript: window.frameElement.getAttribute("data-polyfill-srcdoc");';t.removeAttribute("srcdoc"),t.setAttribute("data-polyfill-srcdoc",e),t.setAttribute("src",n)}else{n="javascript: '"+e.replace(/'/g,"\\'")+"'";t.setAttribute("src",n),t.contentWindow&&(t.contentWindow.location=n)}}function g(t){Array.prototype.slice.call(t).forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}function v(t,e){return e?function(n){t.insertBefore(n,e)}:t.appendChild.bind(t)}function y(t,e,n){switch(n=Array.prototype.slice.call(n),e){case"BEFORE":Array.prototype.forEach.call(n,v(t.parentNode,t));break;case"AFTER":Array.prototype.forEach.call(n,v(t.parentNode,t.nextSibling));break;case"ADD":Array.prototype.forEach.call(n,v(t));break;case"ADD_FRONT":Array.prototype.forEach.call(n,v(t,t.firstChild));break;case"REPLACE":y(t,"BEFORE",n),g([t]);break;case"INNER":t.innerHTML="",y(t,"ADD",n);break;case"REPLACE_HIDE":y(t,"BEFORE",n),t.style.display="none";break;default:throw new Error("Unreconigzed position type: "+e)}}function w(t,e,n){switch(e){case"BEFORE":case"AFTER":case"ADD":case"ADD_FRONT":return y(t,e,n),g.bind(void 0,n);case"REPLACE":var r=n.length?n[0]:t.nextSibling;return y(t,"REPLACE",n),function(){y(r,"BEFORE",[t]),g(n)};case"INNER":var i=Array.prototype.slice.call(t.childNodes);return y(t,"INNER",n),y.bind(void 0,t,"INNER",i);case"REPLACE_HIDE":var o=t.style.display;return y(t,"REPLACE_HIDE",n),function(){g(n),t.style.display=o};default:throw new Error("Unreconigzed position type: "+e)}}var b,E=["BEFORE","AFTER","ADD","ADD_FRONT","REPLACE","INNER"].reduce((function(t,e){return t[e]=function(t,n,r){var i=f(n,r);return w(t,e,i),i},t}),{}),A={overflow:"hidden",border:0,frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,$margin:"0",$padding:"0",src:"about:blank"};function x(t,e){var n=e&&e.interval||100,r=e&&e.retryLimit||20;return s.waitFor$(n,r,(function(){try{return t.contentWindow&&t.contentWindow.document||void 0}catch(t){return}}))}try{b=window.self!==window.top}catch(t){b=!0}var R,O=window.$sf&&window.$sf.ext,I=b&&O&&O.inViewPercentage;function S(t){var e=R&&R.indexOf(t);e>=0&&R.splice(e,1)}function T(t,e){var n=document.createElement(t);for(var r in e)0===r.indexOf("$")?n.style[r.substring(1)]=e[r]:n[r]=e[r];return n}t.exports={handleDOMRemoved:h.removeSelf,handleDOMInserted:h.insertDescendant,raf$:function(){return window.requestAnimationFrame?new r(window.requestAnimationFrame.bind(void 0)):r.resolve()},place:E,placeNodes:w,createFriendlyIframe:function(t,e){var n=T("iframe",Object.assign({},A,e));return t.appendChild(n),n},getDocument$:x,writeFriendlyIframe$:function(t,e){return x(t).then((function(t){t.open().write(e),t.close()}))},isInIframe:b,isInSafeframe:I,isInDOM:function(t){return t.ownerDocument.body.contains(t)},listenToSafeFrameStatus:function(t){return void 0===R&&(R=[],O.register(window.innerWidth,window.innerHeight,(function(t,e){R.forEach((function(n){try{n(t,e)}catch(t){}}))}))),R.push(t),S.bind(void 0,t)},elementBuilder:T,getLoadResult$:function(t){var e,n=new r((function(n,r){function i(){e(),n()}function o(t){e(),r(t)}e=function(){t.removeEventListener("load",i),t.removeEventListener("error",o)},t.addEventListener("load",i,!1),t.addEventListener("error",o,!1)}));return n.disconnect=e,n},buildElementsFromHtml:f,onWindowChange:function(t,e){return!1!==e&&(t=s.throttle(t,"number"==typeof e?e:100)),window.addEventListener("scroll",t),window.addEventListener("resize",t),function(){window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},mergeAttributes:function(t,e){t.attributes&&e instanceof HTMLElement&&Array.prototype.forEach.call(t.attributes,(function(t){var n=t.value;switch(t.name){case"class":if((n=n.trim()).length>0){var r=e.className.trim();e.className=r.length>0?r+" "+n:n}break;case"style":if((n=n.trim()).length>0){var i=e.getAttribute("style");i&&i.length>0&&";"!==i[i.length-1]&&(i+=";"),e.style=i+n}break;default:e.setAttribute(t.name,n)}}))},processIframeDescendants:m,getLang:function(){var t=document.documentElement,e=t.lang||t.getAttribute("xml:lang");if(!("string"!=typeof e||e.length<2))return e.substring(0,2).toLowerCase()}}},function(t,e,n){var r=n(1),i=n(8),o=n(14);function s(t,e){return e=!!e,new r((function(n,r){var i=new XMLHttpRequest;"withCredentials"in i||o.warn("No 'withCredentials' in HttpRequest"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)if(200===i.status){var t=i.responseText;n(t)}else r(new Error(i.status+": "+i.statusText))},i.open("GET",t,!0),e&&(i.withCredentials=!0),i.send()}))}var a=window._rmaxStyles$||(window._rmaxStyles$={});var c=window._rmaxInlineStyles||(window._rmaxInlineStyles={});var u=window._rmaxScripts$||(window._rmaxScripts$={});var d={};t.exports={post:function(t,e){var n=new XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(e))},get$:s,installCSS:function(t,e){if(!c[t]){c[t]=!0;var n=document.createElement("style");n.textContent=e,document.head.appendChild(n)}},loadCSS$:function(t){if(!t)throw new Error("CSS URL cannot be undefined.");return a[t]||(a[t]=function(t){return new r((function(e,n){document.head.querySelector('link[href="'+t+'"]')&&e();var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.addEventListener("load",e,!1),r.addEventListener("error",n,!1),r.href=t,document.head.appendChild(r)}))}(t))},loadJS:function(t,e,n,r){if(null==t)return null;var i=document.body.querySelector('script[src="'+t+'"]');return i?(n&&n(),null):((i=document.createElement("script")).onload=n,i.onerror=r,i.type="text/javascript",e||i.setAttribute("defer",!0),document.body.appendChild(i),i.src=t,i)},loadJS$:function(t,e){if(!t)throw new Error("JS URL cannot be undefined.");return u[t]||(u[t]=function(t,e){return new r((function(n,r){document.querySelector('script[src="'+t+'"]')&&n();var i=document.createElement("script");switch(i.type="text/javascript",i.onload=n,i.onerror=r,e){case"async":i.setAttribute("async","async");break;case"defer":i.setAttribute("defer","defer")}document.body.appendChild(i),i.src=t}))}(t,e))},importJS$:function(t){if(!t)throw new Error("Cannot import JS from empty URL.");return d[t]||(d[t]=function(t){var e,n=i(),o=window._moduleResolvers||(window._moduleResolvers={});return s(t).then((function(t){return"var module = {exports: {}};\n(function(module) {\n"+t+'\n})(module);\nwindow._moduleResolvers["'+n+'"](module.exports);'})).then((function(t){return new r((function(r,i){o[n]=r,(e=document.createElement("script")).type="text/javascript",e.text=t,document.body.appendChild(e)}))})).then((function(t){return delete o[n],e&&e.parentNode&&e.parentNode.removeChild(e),t})).catch((function(t){throw t}))}(t))},encodeQueryParams:function(t){return"?"+Object.keys(t).reduce((function(e,n){if(t.hasOwnProperty(n)){var r=t[n];e.push(encodeURIComponent(n)+(void 0!==r?"="+encodeURIComponent(r):""))}return e}),[]).join("&")}}},function(t,e){t.exports={BANNER:"BANNER",BANNER_MODE_ONE:"BANNER-MODE-ONE",NATIVE:"NATIVE",NATIVE_GROUPED:"NATIVE-GROUPED",UNIVERSAL:"UNIVERSAL"}},function(t,e){t.exports=function(){var t=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}},function(t,e){var n={REQUEST:"request",IMPRESSION:"impression",VIEWABLE:"viewable",CLICK:"click",VISIBLE:"visible"},r={START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete"},i={UNMUTE:"unmute",MUTE:"mute",PAUSE:"pause",PLAY:"play"},o={VIDEO_CLICK:"videoClick",COMPANION_CLICK:"companionClick",VIEWABLE_DETERMINED:"viewableDetermined",VIEWABLE_UNDETERMINED:"viewableUndetermined",VIEWED:"viewed",TIME_SPENT:"timeSpent"},s="progress_",a=s.length;function c(t){return Object.keys(t).reduce((function(e,n){return e[t[n]]=!0,e}),{})}var u=c(r);var d=c(i);var h={ofProgress:function(t){return s+t},isVideoProgress:function(t){return"string"==typeof t&&(!!u[t]||t.substring(0,a)===s)},isInteractive:function(t){return"string"==typeof t&&!!d[t]||t===n.CLICK||t===o.VIDEO_CLICK||t===o.COMPANION_CLICK}};t.exports=Object.freeze(Object.assign(n,r,i,o,h))},function(t,e,n){var r=n(1);t.exports={version:"3.50.0",throttle:function(t,e,n){var r,i,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:+new Date,r=null,s=t.apply(i,o),r||(i=o=null)},u=function(){var u=+new Date;a||!1!==n.leading||(a=u);var d=e-(u-a);return i=this,o=arguments,d<=0||d>e?(r&&(clearTimeout(r),r=null),a=u,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,d)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u},waitFor$:function(t,e,n){return"function"==typeof e&&void 0===n&&(n=e,e=void 0),new r((function(r,i){var o,s=0;function a(){o&&clearInterval(o)}function c(){var t;try{t=n()}catch(t){a(),i(t)}void 0!==t?(a(),r(t,s)):(s>=e&&(a(),i(new Error("Reach maximum retry: "+s))),s++)}o=setInterval(c,t),c()}))}}},function(t,e,n){var r=n(0),i=n(4),o=n(32);function s(t){o.call(this,t)}r.inherit(s,o),Object.assign(s.prototype,{_appendChild:i.unsupported}),Object.defineProperty(s.prototype,"isLeaf",{value:!0}),t.exports=s},function(t,e,n){var r=n(19),i=n(3);function o(t,e,n){this._component=t,this._thisArg=e,this._onError="function"==typeof n?n:void 0}function s(t){this._component=t,this._emitter=new r,this._hookctx=new o(t,this,this._error.bind(this))}Object.assign(o.prototype,{wrap:function(t,e){return"function"==typeof t&&void 0===e?this._wrapUnnamed(t):this._wrapNamed(t,e)},_wrapNamed:function(t,e){var n=this._thisArg,r=this._error.bind(this,t);return function(){try{e.apply(n,arguments)}catch(t){r(t)}}},_wrapUnnamed:function(t){var e=this._thisArg,n=this._error.bind(this);return function(r){try{t.apply(e,arguments)}catch(t){n(r,t)}}},_error:function(t,e){i.isAdcodeError(e)||(e=new i(i.TYPES.HOOK_HANDLER_ERROR,e,{component:this._component,hook:t})),this._onError&&this._onError(e)}}),Object.defineProperties(s.prototype,{events:{get:function(){return this._emitter.events}}}),Object.assign(s.prototype,{on:function(t,e){return e=this._hookctx.wrap(t,e),this._emitter.on(t,e)},_emit:function(){this._emitter.emit.apply(this._emitter,arguments)},destroy:function(){this._emit("before-destroy"),this._destroy(),this._emitter=this._hookctx=void 0},_destroy:function(){},_error:function(){}}),t.exports=s},function(t,e){t.exports={GPT:"gpt",DOUBLECLICK:"doubleclick",FREAKOUT:"freakout",NATIVE:"native",BANNER:"banner",IFRAME:"iframe",FRIENDLY_IFRAME:"friendly-iframe",COMBO:"combo",MOLECULAR:"molecular"}},function(t,e,n){var r=n(4).nop;function i(t){return console[t].bind(console,"%cDr%cMax%c","padding: 0.2em 0 0.2em 0.5em; font-weight:700; background: #111; color: #66ffcc","padding: 0.2em 0.5em 0.2em 0; font-weight:700; background: #111; color: #9999ff","background: inherit; color: inherit")}t.exports={print:i,error:i("error"),warn:r,log:r}},function(t,e,n){var r=n(2),i=n(0),o=n(4),s=n(5),a=n(21),c=n(17),u=n(51),d=n(3),h=n(53),p=n(25),l=n(9),f=n(56),m=p.VIEWABLE_TIMEOUT,_=p.VIEWABLE_THRESHOLD;function g(t,e,n,r){if(!n)throw new Error("Element is required");this.element=n,this.options=r,u.call(this,t,e)}i.inherit(g,u),Object.assign(g.prototype,{_init:function(){this._readAttributes(),this.trackerManager=new h(this.element),this.placement=new f(this.element,this.placementOptions),this.element.style.textDecoration="none",this._handleLegacyHooks()},_beforeGetPlan:function(){this.placement.start(),this._setupSpaceElement()},_setupSpaceElement:o.nop,_afterGetPlan:function(t){this._writeAttribute$("data-rmax-session-id",t.sessionId)},_runChannel$:function(t){if("asiamax"===t.modType||t.type&&t.type.startsWith("asiamax.")){var e=this;return this._getAsiaMaxAd$(t).then((function(n){return e._isNonEmptyAd(n)?e._runAd$(Object.assign(t,n)):void 0}))}return this._runAd$(t)},_isNonEmptyAd:function(t){return t&&Object.keys(t).filter((function(t){return"trackers"!==t})).length>0},_trackChannelRequest:function(t){var e=(t.trackers||{}).request;e&&e.length>0&&(this.trackerManager.add(l.REQUEST,e),this._fireTracker(l.REQUEST))},_getAsiaMaxAd$:function(t){return this.service.getAsiaMaxAd$(t)},_runAd$:function(t){this._emit("before-channel-module",t);var e=this.ad=this._createAd(t);return this._setupAd(e,t),this._emit("channel-module",e),e.display$().then((function(){return e.filled?e:void e.destroy()}))},_setupAd:function(t,e){t.events.on("error",this._error.bind(this))},_handleEvents:function(t){if(t){var e=t.channel.trackers||{};this._emit("trackers",e),this._handleImpressionTrackers(t,e),this._handleViewableTrackers(t,e),this._handleScriptTrackers(t,e)}},_handleImpressionTrackers:function(t,e){this._emit("impression"),this.trackerManager.add(l.IMPRESSION,e.impression),this._fireTracker(l.IMPRESSION)},_handleViewableTrackers:function(t,e){this.trackerManager.add(l.VIEWABLE,e.viewable),this._monitorViewability()},_handleScriptTrackers:function(t,e){this._scriptTrackers=e.script},_monitorViewability:function(){if(void 0!==(this.ad&&this.ad.elements)){var t={visibilityThreshold:_,timeoutThreshold:m};this.viewable$=this._viewable$(t).then(this._doViewable.bind(this)).catch(this._error.bind(this))}},_viewable$:function(t){var e=this.ad&&this.ad.elements,n=this._viewabilityObserver=new a.ViewabilityObserver(e,t);return this._emit("viewability-observer",n,t),n.fulfilled$},_doViewable:function(t){this._emit("viewable",t),this._fireViewableTracker(t),this._installScriptTrackers(this._scriptTrackers)},_createAd:o.unimplemented,_unrecognizedChannelTypeError:function(t,e){var n=new Error("Unrecognized channel type: "+e);return new d(d.TYPES.INVALID_SSP_RESPONSE,n,{sessionId:this.sessionId,type:e})},_getGamAdUnit:function(t){return this.rmaxads.getGamPath(t)+this.spaceId},_readAttributes:function(){this._readCommonAttributes(),this._readSizeAttributes(),this._readDoubleClickAttributes()},_readCommonAttributes:function(){if(this.spaceId=this.element.getAttribute("data-rmax-space-id"),!this.spaceId)throw new Error("Space ID not found");this.groupId=this.element.getAttribute("data-rmax-group-id")},_readSizeAttributes:function(){this.width=this.helpers.parseDimension(this.element.getAttribute("data-rmax-space-width")),this.height=this.helpers.parseDimension(this.element.getAttribute("data-rmax-space-height"))},_readPlacementAttributes:function(){var t=this.element;this.placementOptions={selector:t.getAttribute("data-target-id"),index:this.helpers.parseNumber(t.getAttribute("data-target-index")),position:t.getAttribute("data-target-pos"),rootSelector:t.getAttribute("data-listen-target-selector")}},_readDoubleClickAttributes:function(){this.spaceCountry=this.element.getAttribute("data-rmax-space-country"),this.targetOrigin=this.element.getAttribute("data-rmax-origin")||c.hostObject.origin,this.targetGptContainer=this.element.getAttribute("data-target-gpt-container"),this.targetDoubleClickContainer=this.element.getAttribute("data-target-dc-container")},_assertSize:function(){if(void 0===this.width||void 0===this.height)throw new Error("Size is required for this space")},_setStatus:function(t){this.status=t,this._writeAttribute$("data-rmax-status",t)},_appendResult:function(t){this.result=this.result?this.result+" -> "+t:t,this._writeAttribute$("data-rmax-result",this.result)},_writeAttribute$:function(t,e){var n=this.element;return s.raf$().then(void 0===e?n.removeAttribute.bind(n,t):n.setAttribute.bind(n,t,e))},_fireTracker:function(t,e){try{this.trackerManager.fire(t,e)}catch(t){this._error(t)}},_fireViewableTracker:function(t){this._fireTracker(l.VIEWABLE,{noAd:t?2:0,requestId:this.sessionId})},_installScriptTrackers:function(t){if(t&&0!==t.length){var e=this.ad.elements;if(e&&0!==e.length){e=i.asArray(e);var n=t.map((function(t){var e=document.createElement("script");return e.type="text/javascript",e.src=t,e})),r=e[e.length-1],o=r.parentNode,s=r.nextSibling;n.forEach(s?function(t){o.insertBefore(t,s)}:o.appendChild.bind(o))}}},_error:function(t){var e=this.result;this.rmaxads._error(t,Object.assign({spaceId:this.spaceId,spaceStatus:this.status,spaceType:this.type,adType:this.type,sessionId:this.sessionId},e&&{spaceResult:e})),u.prototype._error.apply(this,arguments)},_handleLegacyHooks:function(){var t=this.options||{},e=this.on.bind(this,"empty"),n=t.hooks||{};Object.keys(n).forEach((function(t){switch(t){case"onEmpty":case"onNoAD":n[t].forEach(e)}}))}});var v=Object.freeze({parseDimension:function(t){if(null!=t&&""!==t){if("string"!=typeof t)throw new Error("Expecting a string");return t=t.replace("px",""),Number(t)}},parseNumber:function(t){if(null!=t&&""!==t){if("string"!=typeof t)throw new Error("Expecting a string");return Number(t)}}});Object.defineProperties(g.prototype,{helpers:{value:v}}),r.register("BaseSpace",g),t.exports=g},function(t,e,n){n(1);var r=n(0),i=n(4),o=n(12),s=n(8);function a(t,e,n){o.call(this,"ad"),this.uuid=s(),this.type=t,this.space=e,this.channel=n}r.inherit(a,o),Object.assign(a.prototype,{display$:function(){var t=this;return this._display$().then((function(){t._displayed=!0,t._emitter.emit("display"),t._empty&&t._emitter.emit("empty")}))},destroy:function(){this._emitter.emit("destroy"),this._destroy(),this._emitter.clear(),this._view=this._emitter=void 0,this._destroyed=!0},error:function(t){this._emitter.emit("error",t)},_display$:i.unimplemented,_doEmpty:function(){this._empty||(this._empty=!0,this._displayed&&this._emitter.emit("empty"))},_destroy:i.nop}),Object.defineProperties(a.prototype,{elements:{get:function(){var t=this._element||this._elements;return t&&r.asArray(t)}},empty:{get:function(){return!!this._empty}},filled:{get:function(){return!this._empty}},displayed:{get:function(){return!!this._displayed}},destroyed:{get:function(){return!!this._destroyed}}}),t.exports=a},function(t,e){function n(t){var e=function(t){var e=(t=t||window).document,n="";if(t.self!==t.top)try{e=t.top.document}catch(t){n=e.referrer}return!n&&e.querySelector('link[rel="canonical"]')&&(n=e.querySelector('link[rel="canonical"]').href),!n&&e.querySelector('meta[property="og:url"]')&&(n=e.querySelector('meta[property="og:url"]').content),n||(n=e.location.href),n=n.replace(/([^:]\/)\/+/g,"$1")}(t=t||window),n=t.document.createElement("a");return n.href=e,n.href.startsWith("file://")||(n.hrefAsReferer=n.href),n.origin||(n.origin=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")),n}t.exports={hostObject:n(),getHostObject:n,normalizeHost:function(t){var e=document.createElement("a");e.href=t;var n=e.href;if(n&&n.startsWith("file://"))return function(t){return t&&t.endsWith("/")?t.substring(0,t.length-1):t}("https://"+n.substring(7));if(e.origin)return e.origin;var r=e.protocol;return r&&":"!==r||(r=window.location.protocol),"http:"===r&&"https:"===r||(r="https:"),r+"//"+e.hostname+(e.port?":"+e.port:"")}}},function(t,e,n){"use strict";var r=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,i=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)),s=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(i),a=o||s,c=/MSIE\s([\d.]+)/.test(navigator.userAgent),u=navigator.userAgent.indexOf("Chrome/")>=0,d=-1!==navigator.userAgent.indexOf("Safari")&&!u,h=navigator.userAgent.indexOf("Safari Line")>=0,p=/Safari(?:\/[\d.]+)?\sLine/.test(navigator.userAgent);t.exports={isIOS:r,isMobile:a,isPhone:o,isTablet:s,isIE10OrLess:c,isChromeOrOpera:u,isIOSLine:h,isLine:p,isSafari:d}},function(t,e){function n(){this._handlers={},this._forwards=[],Object.defineProperty(this,"events",{value:Object.freeze({on:this.on.bind(this),once:this.once.bind(this),pipe:this.pipe.bind(this)})})}Object.assign(n.prototype,{on:function(t,e){return this._handlers=this._handlers||{},(this._handlers[t]||(this._handlers[t]=[])).push(e),this._off.bind(this,t,e)},once:function(t,e){var n=this;return this.on(t,(function r(){n._off(t,r),e.apply(n,arguments)}))},pipe:function(t){return"function"==typeof t&&(t={emit:t}),this._forwards=this._forwards||[],this._forwards.push(t),this._unpipe.bind(this,t)},clear:function(){this._handlers={},this._forwards=[]},emit:function(t){var e=[].slice.call(arguments,1);this._callHandlers(t,e),this._callForwards.apply(this,arguments)},_callHandlers:function(t,e){if(this._handlers){var n=this._handlers[t];if(n&&0!==n.length)for(var r=0,i=(n=n.slice()).length;r<i;r++)n[r].apply(this,e)}},_callForwards:function(){if(this._forwards&&0!==this._forwards.length)for(var t,e=this._forwards.slice(),n=0,r=e.length;n<r&&(t=e[n]);n++)t.emit.apply(t,arguments)},_off:function(t,e){var n=this._handlers&&this._handlers[t],r=Array.isArray(n)&&n.indexOf(e);r&&r>-1&&n.splice(r,1)},_unpipe:function(t){var e=this._forwards&&this._forwards.indexOf(t);e&&e>-1&&this._forwards.splice(e,1)}}),t.exports=n},function(t,e,n){var r,i,o,s,a=n(1),c=n(23);t.exports=window.rmaxads&&void 0!==window.rmaxads.initializedAt?window.rmaxads:window.rmaxads=(r=window.rmaxads&&window.rmaxads.cmd,i=Object.assign({adHost:window.overrideSupplyAdsHost},r&&{cmd:r},window.rmaxOptions),o=new c(i),s=!window.rmaxOptions||!1!==window.rmaxOptions.autoStart,o.autoStart=s?function(){return o.start(window.rmaxSpaceOptions)}:function(){return a.resolve()},o)},function(t,e,n){var r=n(1),i=n(25),o=n(4),s=n(30),a=n(26),c=n(10),u=n(14),d=n(5),h=n(18),p=n(49),l=n(50),f=window.IntersectionObserver,m=window.WeakMap||a,_=window.mraid,g=d.isInIframe&&!d.isInSafeframe&&!_;function v(t){return t instanceof Element}function y(t){return void 0===t?[]:Array.isArray(t)?t.filter(v):t.length?Array.prototype.filter.call(t,v):[t]}function w(t){var e,n;return function(r,i,o){if(i=!!i,r!==e||i!==n){try{t(r,i,i?NaN:o)}catch(t){u.error(t)}e=r,n=i}}}function b(t,e){var n=w(e);return function(e,r){var i=!r&&!isNaN(e)&&e>t;n(i,r,e)}}function E(t,e,n){var r=b(e,n),i=new f((function(e){e.forEach((function(e){try{e.target===t&&r(e.intersectionRatio)}catch(t){u.error(t)}}))}),{threshold:[0,e]});i.observe(t),this.disconnect=function(){i.disconnect()}}E.prototype.update=o.nop;for(var A=[],x=0;x<=1;x+=.05)A.push(x);function R(t,e,n){var r=new m,i=b(e,n),o=new f((function(e){e.forEach((function(t){var e=t.target,n=t.boundingClientRect,i=t.intersectionRect;r.set(e,{visible:i.width*i.height,total:n.width*n.height})}));var n=t.reduce((function(t,e){var n=r.get(e);return n&&(t[0]+=n.visible,t[1]+=n.total),t}),[0,0]);i(n[0]/n[1])}),{threshold:A});t.forEach(o.observe.bind(o)),this.disconnect=function(){o.disconnect()}}function O(t,e,n){var r=e.threshold;return 1===t.length?new E(t[0],r,n):new R(t,r,n)}function I(t,e,n){var r=b(e.threshold,n),o=this,s=this._throttledCheck=c.throttle((function(){var e=function(t,e){if(!(e=d.isInIframe?e:new p(window)))return[NaN,!0];var n=y(t).map((function(t){return new p(t)})).filter((function(t){return!t.isStrcitlyEmpty}));if(0===n.length)return[NaN,!1];var r=n.reduce((function(t,e){return t+e.area}),0),i=n.reduce((function(t,n){return t+n.intersect(e).area}),0);return r>0?[i/r,!1]:[n.reduce((function(t,n){return t+(e.contain(n)?1:0)}),0)/n.length,!1]}(t,o._viewport);r(e[0],e[1])}),i.THROTTLE_INTERVAL);d.isInIframe&&!this._viewport||this._listenOnWindowChange(),setTimeout(s,0)}R.prototype.update=o.nop,I.prototype._listenOnWindowChange=function(){this._disconnectWindowChange||(this._disconnectWindowChange=d.onWindowChange(this._throttledCheck,!1))},I.prototype.disconnect=function(){this._disconnectWindowChange&&this._disconnectWindowChange(),this._disconnectWindowChange=this._throttledCheck=void 0},I.prototype.update=function(t){this._throttledCheck&&(t&&(this._viewport=function(t){var e=t.window,n=new p({top:0,left:0,bottom:e.height,right:e.width}),r=t.iframe;return r.bottom=r.bottom||r.top+window.innerHeight,r.right=r.right||r.left+window.innerWidth,r=new p(r),n.intersect(r).offset({left:-r.left,top:-r.top})}(t),this._listenOnWindowChange()),this._throttledCheck())};var S=100;function T(t,e){var n=b(t.threshold,e),r=function(){n(window.$sf.ext.inViewPercentage()/S)};this.disconnect=d.listenToSafeFrameStatus((function(t,e){"geom-update"===t&&r()})),setTimeout(r,0)}T.prototype.update=o.nop;var P=.5;function k(t){var e=b(P,t),n=function(t){e(t?1:0)};_.addEventListener("viewableChange",n),this.disconnect=function(){_.removeEventListener("viewableChange",n)},setTimeout((function(){!function(t){"loading"===_.getState()?_.addEventListener("ready",t):t()}((function(){n(_.isViewable())}))}),0)}function N(t,e,n){n=w(n);var r=this;this._disconnectPageObserver=l.observe(this._onPageVisible.bind(this)),this._modern=new O(t,e,(function(){!1!==r._pageVisible&&n.apply(void 0,arguments)})),this._createLegacy=function(){return new I(t,e,n)}}function C(t,e,n){return(t=y(t)).length,_?new k(n):d.isInSafeframe?new T(e,n):f?h.isChromeOrOpera?new N(t,e,n):new O(t,e,n):new I(t,e,n)}function L(t,e){var n={threshold:e.visibilityThreshold},i={threshold:e.timeoutThreshold},o=!1!==e.fulfillAtUndetermined,a=e.VisibilityObserver||C,c=this;this.fulfilled$=new r((function(e,r){var u=new s(i,(function(t){t&&h(!1)})),d=c._visibilityObserver=new a(t,n,(function(t,e){o&&e?h(!0):u.update(!e&&t)}));function h(t){d.disconnect(),u.disconnect(),e(t)}}))}k.prototype.update=o.nop,N.prototype._onPageVisible=function(t){this._pageVisible!==t&&(this._pageVisible=t,t?(this._legacy&&this._legacy.disconnect(),this._legacy=void 0):(this._legacy=this._legacy||this._createLegacy(),this._viewport&&(this._legacy.update(this._viewport),this._viewport=void 0)))},N.prototype.update=function(t){t&&!this._disconnected&&(this._pageVisible?this._viewport=t:this._legacy&&this._legacy.update(t))},N.prototype.disconnect=function(){this._disconnected||(this._disconnected=!0,this._disconnectPageObserver(),this._modern.disconnect(),this._legacy&&this._legacy.disconnect(),this._disconnectPageObserver=this._modern=this._legacy=void 0)},L.prototype.update=function(t){var e=this._visibilityObserver;e&&e.update&&e.update(t)},t.exports={isInRegularIframe:g,VisibilityObserver:C,ViewabilityObserver:L}},function(t,e,n){var r=n(0),i=n(2),o=n(16),s=n(13),a=n(3),c=n(59),u=n(5),d=n(60),h=n(28);function p(t,e){o.call(this,s.DOUBLECLICK,t,e),this._is1stParty=e.type&&0===e.type.indexOf("doubleclick.")||"doubleclick"===e.modType,this._isNative=e.type&&e.type.indexOf(".native")>=0||"native"===e.adType||"native"===e.subType,this._setupContainer(),this._setupGPT()}r.inherit(p,o),Object.assign(p.prototype,{_getPosition:function(){var t=this.space.placement.position;return t&&"INNER"!==t?t:"REPLACE"},_getContainerTemplate:function(){return this.channel.containerTemplate||(this._isNative?this.space.targetGptContainer:this.space.targetDoubleClickContainer)||"div"},_setupContainer:function(){var t=this._ref=this.space.placement.ref,e=this._position=this._getPosition();h.verifyPlacement(t,e);var n=this._getContainerHtml(this._getContainerTemplate()),r=this._container=u.buildElementsFromHtml(n)[0];this._teardown=u.placeNodes(t,e,[r])},_getContainerHtml:function(t){if(!t)throw new Error("Ad container template is required");try{return c.toHtml(t)}catch(e){throw new a(a.TYPES.INVALID_AD_CONTAINER_TEMPLATE,e,{template:t})}},_setupGPT:function(){var t=this.channel;this._gpt=new d(this._container,{adUnit:this._getAdUnit(t),size:this._getSize(t),targeting:this._getTargeting(t),variables:this._getVariables(t)})},_getAdUnit:function(t){return this._is1stParty?this.space._getGamAdUnit(t.spaceCountry):t.externalId},_getSize:function(t){if(this._isNative)return"fluid";if(t.width&&t.height)return[t.width,t.height];var e=this.space;if(e.width&&e.height)return[e.width,e.height];throw new Error("No size for GPT")},_getTargeting:function(t){return this._is1stParty?{adx_region:"TWN"===t.spaceCountry?"TWN":"HKG",line_item_type:(t.lineItemTypes||["adSense","adExchange"]).join(",")}:{}},_getVariables:function(t){if(!this._is1stParty)return{};var e={};return t.publisherDomain&&(e.page_url=t.publisherDomain),e},_display$:function(){return this._gpt.display$().then(this._afterDisplay.bind(this))},_afterDisplay:function(t){if(t){var e=this.lineItemId,n=this.channel.trackers;e&&n&&n.impression&&(n.impression=n.impression.map((function(t){return t+"&lineitemid="+e}))),this._elements=[this._container]}else this._doEmpty()},_destroy:function(){try{this._gpt&&this._gpt.destroy()}catch(t){}try{this._teardown&&this._teardown()}catch(t){}}}),Object.defineProperties(p.prototype,{lineItemId:{get:function(){return this._gpt&&(this._gpt.lineItemId||this._gpt.sourceAgnosticLineItemId)}}}),i.register("DoubleClickAd",p),t.exports=p},function(t,e,n){var r=n(1),i=n(10),o=n(0),s=n(17),a=n(5),c=n(6),u=n(46),d=n(12),h=n(3),p=n(47),l=n(48),f=[".rmax",".rmax-universal"].map((function(t){return"ins"+t+':not([data-rmax-space-picked="true"])'})).join(","),m="/supply/tracking/error",_="//ssp.tenmax.io";function g(t){var e,n,r;d.call(this,"rmaxads"),t=t||{},Object.defineProperty(this,"initializedAt",{value:Date.now()}),this.version=i.version,this._spaceModules={},this.spaces=[],this._spaceIndices={},this.service=new p(this),this.selectors=[],this.lang=a.getLang(),this.referer=s.hostObject.hrefAsReferer,this.adHost=s.normalizeHost(t.adHost||_),this.trackingHost=t.trackingHost&&s.normalizeHost(t.trackingHost)||this.adHost,this.gamSubPath=t.gamSubPath||(e=this.adHost,n=e.indexOf("//ssp.tenmax.io")>=0,r=!n&&e.indexOf("//beta-ssp.tenmax.io")>=0,n?"/rmaxspace/":r?"/beta_rmaxspace/":"/dev_rmaxspace/"),this.errorTrackingEndpoint=this.trackingHost+m,u.setVersion(this._buildVersion());var o=this._hookctx.wrap.bind(this._hookctx,"cmd"),c=this,h=function(t){"function"==typeof t&&o(t)(c)};Object.defineProperty(this,"cmd",{value:Object.freeze({push:h})}),t.cmd&&Array.isArray(t.cmd)&&t.cmd.forEach(h),this._dmp(),this._emit("initialize")}o.inherit(g,d),Object.assign(g.prototype,{start:function(t){t=o.asArray(t),this._emit("before-create-spaces",t.slice());var e=this._createSpaces(t);this._emit("create-spaces",e);var n=e.map(this.startSpace.bind(this));return this._emit("start-spaces",e),r.all(n)},getGamPath:function(t){return"/"+("TWN"===t?"37275962":"65446623")+this.gamSubPath},_buildVersion:function(){return(this.version||"unknown (no window.rmaxads.version)")+(this.isDev?"/dev":"")},_dmp:function(){u.dmp()},_createSpaces:function(t){t=t||[];for(var e,n=this._scanElements(),r=[],i=0,o=n.length;i<o;i++){e=n[i];try{r.push(this.createSpace(e,t)),e.setAttribute("data-rmax-space-picked","true")}catch(t){}}return r},_scanElements:function(){return Array.prototype.filter.call(document.querySelectorAll(f),this._filterElement.bind(this))},_filterElement:function(t){var e=t.getAttribute("data-rmax-space-id");return!l[e]},createSpace:function(t,e,n){if(!t)throw new Error("Element is required.");if("object"==typeof e&&void 0===n&&(n=e,e=void 0),n=this._normalizeSpaceOptions(t,n),!(e=e||this._getTypeFromElement(t)))throw new Error("Can not determine space type.");var r=this._spaceModules[e];if(!r)throw new h(h.TYPES.MODULE_ERROR,new Error("Unrecognized space type: "+e));n.type=e;var i=new r(this,t,n);this.spaces.push(i);var o=i.spaceId;return i.spaceIndex=this._spaceIndices[o]=void 0===this._spaceIndices[o]?0:this._spaceIndices[o]+1,this._emit("space",i),i},_normalizeSpaceOptions:function(t,e){var n={hooks:{}},r=this;return e.forEach((function(e){if(e&&r._matchOption(t,e))for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if("spaceId"===i||"selector"===i)continue;var o=e[i];"on"===i.substring(0,2)&&"function"==typeof o?(n.hooks[i]||(n.hooks[i]=[])).push(o):n[i]=o}})),n},_matchOption:function(t,e){return e.spaceId?e.spaceId===t.getAttribute("data-rmax-space-id"):!e.selector||t.matches(e.selector)},_getTypeFromElement:function(t){var e=this.selectors.find((function(e){return t.matches(e.selector)}));return e&&e.type},startSpace:function(t){if(t.started)return r.resolve();try{return t.start$().catch((function(){}))}catch(t){return r.resolve()}},register:function(t,e){if(!e)throw new Error("invalid RMAXADS register arguments");var n=e.spaceModule,r=e.selector;this.selectors.push({type:t,selector:r}),this._registerSpaceModule(t,n)},_registerSpaceModule:function(t,e){if(!t)throw new Error("Space type is required");if(!e)throw new Error("Space module is required");this._spaceModules[t]||(this._spaceModules[t]=e)},error:function(t,e){this._error(t,e)},_error:function(t,e){u.error(this.errorTrackingEndpoint,t,e)},_get$:function(t){return c.get$(t,!0)}}),t.exports=g},function(t,e,n){var r=n(1),i=n(0),o=n(2),s=n(5),a=n(3),c=n(16),u=n(13),d=n(28);function h(t,e){if(!e.content)throw new a(a.TYPES.ILLEGAL_TEMPLATE,new Error,{content:e.content});c.call(this,u.NATIVE,t,e)}i.inherit(h,c),Object.assign(h.prototype,{_display$:function(){var t=this.space.placement.ref,e=this.space.placement.position;return d.verifyPlacement(t,e),this._elements=s.place[e](t,this.content||this.channel.content,this.channel.deepInto),r.resolve()}}),o.register("NativeAd",h),t.exports=h},function(t,e){t.exports={VIEWABLE_TIMEOUT:2e3,VIEWABLE_THRESHOLD:.5,THROTTLE_INTERVAL:250}},function(t,e,n){var r=n(8);function i(t){this._propKey=t||r()}i.prototype={delete:function(t){delete t[this._propKey]},get:function(t){return t[this._propKey]},has:function(t){return Object.prototype.hasOwnProperty.call(t,this._propKey)},set:function(t,e){t[this._propKey]=e}},t.exports=i},function(t,e,n){n(1);var r=n(4);function i(t){this.type=t}Object.assign(i.prototype,{fire:function(t,e){this.fired||(this.fired=!0,this._fire(t,e))},destroy:function(){var t=this.element;t&&t.parentElement&&t.parentElement.removeChild(t)},_fire:r.unimplemented,_append:function(t,e){t.appendChild(e)}}),t.exports=i},function(t,e,n){var r=n(3);t.exports={verifyPlacement:function(t,e){if(!t.parentNode)switch(e){case"INNER":case"REPLACE":case"REPLACE_HIDE":case"BEFORE":case"AFTER":throw new r(r.TYPES.TARGET_DETACHED)}}}},function(t,e,n){var r=n(1),i=n(6),o=n(5),s=n(10);t.exports={FIF$:function(t,e){var n=t.src,a=t.content;if(!n&&!a)throw new Error("Require either src or content in params.");var c=o.elementBuilder("iframe",Object.assign({},t,{src:"about:blank"}));e.appendChild(c);var u=s.waitFor$(100,20,(function(){return c.contentWindow&&c.contentWindow.document||void 0})),d=a?r.resolve(a):i.get$(n),h=r.all([u,d]).then((function(t){var e=t[0],n=t[1];e.open().write(n),e.close()})).then((function(){return c}));return h.iframe=c,h}}},function(t,e){function n(t,e){this._threshold=t.threshold,this._callback=e,this._state=!!t.initialState}n.prototype={update:function(t){if(!this._disconnected)if(this._state)t||(this._state=!1,this._callback&&this._callback(!1));else{var e=this._timeoutId,n=this;t&&!e?this._timeoutId=setTimeout((function(){n._timeoutId=void 0,n._state=!0,n._callback&&n._callback(!0)}),this._threshold):!t&&e&&(clearTimeout(e),this._timeoutId=void 0)}},disconnect:function(){this._disconnected=!0,this._timeoutId&&clearTimeout(this._timeoutId)}},Object.defineProperty(n.prototype,"state",{get:function(){return this._state}}),t.exports=n},function(t,e,n){var r=n(1),i=n(0),o=n(4);t.exports={promisify$:function(t){return i.isPromise(t)?t:r.resolve(t)},first:function(t){switch(t.length){case 0:return;case 1:return t[0]();default:return t.slice().reverse().reduce((function(t,e){return function(n){if(void 0!==n)return t(n);var r=e();return void 0===r?t():i.isPromise(r)&&t!==o.identity?r.then(t):r}}),o.identity)()}},any$:function(t){return new r((function(e,n){for(var r=0,i=[],o=0,s=t.length;o<s;o++)!function(o){t[o].then((function(t){e({index:o,value:t})}),(function(t){i[o]=t,++r===s&&n(i)}))}(o)}))},wait$:function(t,e){var n=(e=e||{}).interval||100,i=e.retryLimit||20;return new r((function(e,r){var o,s=0;function a(){o&&clearInterval(o)}function c(){var n;try{n=t()}catch(t){a(),r(t)}void 0!==n?(a(),e(n,s)):(s>=i&&(a(),r(new Error("Reach maximum retry: "+s))),s++)}o=setInterval(c,n),c()}))}}},function(t,e,n){var r=n(19);function i(t){Object.defineProperty(this,"type",{value:t}),this._emitter=new r}i.prototype={appendChild:function(){for(var t=0,e=arguments.length;t<e;t++)this._appendChild(arguments[t])},destroy:function(){this._emitter.clear(),this._destroyed=!0},_emit:function(t,e){e=e||{},this.assetKey&&(e.assetKey=this.assetKey),this._emitter.emit(t,e)},_appendChild:function(t){var e=this.childContainer||this.element;if(!e)throw new Error("No child container available to append.");var n=t instanceof Node?t:t.isWidget||t.element?t.element:void 0;if(!n)throw new Error("Host element not found on child object: "+t);e.appendChild(n)}},Object.defineProperty(i.prototype,"isWidget",{value:!0}),Object.defineProperty(i.prototype,"events",{get:function(){return this._emitter.events}}),Object.defineProperty(i.prototype,"destroyed",{get:function(){return!!this._destroyed}}),t.exports=i},function(t,e,n){var r=n(0),i=n(2),o=n(62);function s(t,e){o.call(this,t,e)}r.inherit(s,o),Object.assign(s.prototype,{_parsePlanResponse:function(t,e){return this._processPlanResponse(JSON.parse(t),e)},_processPlanResponse:function(t,e){return{sessionId:t.sessionId,channels:this._processPlanChannels(t,e)}},_parseAdResponse:function(t,e,n){return this._processAdResponse(JSON.parse(t),e,n)},_processAdResponse:function(t,e,n){return this._processChannel(t)}}),i.register("JsonAdService",s),t.exports=s},function(t,e,n){var r=n(1),i=n(2);function o(t,e){this._service=t,this._space=e,t.registerSpace(e)}function s(t,e){this._rmaxads=t,this.type=e,this._asiaMaxAdCache={}}Object.assign(o.prototype,{getPlan$:function(){return this._service.getPlan$(this._space)},getAsiaMaxAd$:function(t){return this._service.getAsiaMaxAd$(this._space,this._space.sessionId,t)},unregister:function(){this._service.unregisterSpace(this._space)},destroy:function(){this.unregister()}}),s.SpaceView=o,Object.assign(s.prototype,{createSpaceView:function(t){return new o(this,t)},getPlan$:function(){throw new Error("Unimplemented")},getAsiaMaxAd$:function(t,e,n){var i=this._getAsiaMaxAdFromCache(t);return i?r.resolve(i):this._requestAsiaMaxAd$(t,e,n)},registerSpace:function(){},unregisterSpace:function(){},destroy:function(){this._asiaMaxAdCache=void 0},_requestAsiaMaxAd$:function(){throw new Error("Unimplemented")},_getAsiaMaxAdFromCache:function(t){return this._asiaMaxAdCache[t.uuid]},_saveAsiaMaxAdToCache:function(t,e){this._asiaMaxAdCache[t.uuid]=e},_processPlanChannels:function(t,e){var n=t.channels;return n=n.map(this._processChannel.bind(this)),n=this._processPlanChannelsForAsiaMax(e,n),n=this._addChannelIndices(n)},_processPlanChannelsForAsiaMax:function(t,e){if(1===e.length){var n=e[0];if(n.type.startsWith("asiamax."))return this._saveAsiaMaxAdToCache(t,n),[{id:n.id,type:n.type,subtype:n.subtype,index:0}]}return e},_processChannel:function(t){return t},_addChannelIndices:function(t){for(var e=0,n=t.length;e<n;e++)t[e].index=e;return t}}),i.register("BaseAdService",s),t.exports=s},,,function(t,e,n){var r=n(0),i=n(2),o=n(3),s=n(24),a=n(13),c=n(57),u=new RegExp('<div id="freakout">\\s*</div>');function d(t,e){var n=e.content;if(!n||u.test(n))throw new o(o.TYPES.ILLEGAL_TEMPLATE,new Error,{template:n});s.call(this,t,Object.assign({},e,{content:"_placeholder_"})),this.type=a.FREAKOUT,this.service=new c,this.freakoutTemplate=n}r.inherit(d,s),Object.assign(d.prototype,{_display$:function(){var t=this,e=s.prototype._display$.bind(this);return this._getTemplate$().then((function(n){return""!==n&&void 0!==n?(t.content=n,e()):void t._doEmpty()}))},_getTemplate$:function(){var t=this.channel,e=t.clickUrl||t.foClickUrlPrefix;return this.service.get$(this.space.element,t.hikeId,this.freakoutTemplate,e)}}),i.register("FreakOutAd",d),t.exports=d},function(t,e,n){var r=n(1),i=n(0),o=n(2),s=n(3),a=n(16),c=n(13),u=n(29);function d(t,e){if(!e.content)throw new s(s.TYPES.ILLEGAL_TEMPLATE,new Error,{content:e.content});a.call(this,c.BANNER,t,e)}i.inherit(d,a),Object.assign(d.prototype,{_display$:function(){var t=this.channel,e=this.space,n=e.element,i=n.style,o=this._shallEscape(t),s=t.width||e.width,a=t.height||e.height;return i.fontSize=0,i.width=o?"auto":s+"px",i.height=o?"auto":a+"px",this._element=u.FIF$({width:s+"px",height:o?"0":a+"px",overflow:"hidden",border:0,frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,$margin:"0px",$padding:"0px",content:t.content},n).iframe,r.resolve()},_shallEscape:function(t){return"pps"===t.subType&&t.content.indexOf("ppsOptions={escape:false}")<0}}),o.register("BannerAd",d),t.exports=d},function(t,e,n){var r=n(0),i=n(33);function o(t,e){i.call(this,t,e)}r.inherit(o,i),Object.assign(o.prototype,{_processPlanChannelsForAsiaMax:function(t,e){if(1===e.length){var n=e[0];if("asiamax"===n.modType)return this._saveAsiaMaxAdToCache(t,n),[{id:n.id,modType:n.modType,adType:n.adType,subType:n.subType,index:0}]}return e}}),t.exports=o},function(t,e){"function"!=typeof Array.prototype.find&&Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=Object(this),n=e.length>>>0,r=arguments[1],i=0;i<n;i++){var o=e[i];if(t.call(r,o,i,e))return o}}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(!e||e<0?0:+e,t.length)===t})},function(t,e,n){n(42),n(43)},function(t,e){},function(t,e,n){var r=n(2);!function t(e){var n=e.document,r=n.head;if(!r.querySelector("#rmax-demo-style")){var i=n.createElement("style");i.id="rmax-demo-style",i.innerHTML='.rmax-highlight::before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;z-index:99;pointer-events:none;border:4px solid rgba(255,0,0,0.8);}',r.appendChild(i);try{var o=e.parent;if(o===e)return;t(o)}catch(t){}}}(window),r.shim("BaseSpace",(function(t){Object.assign(t.prototype,{demo:function(t){this._demo=function(t){return"string"==typeof(t=t||{})&&(t={crid:t}),t}(t)},highlight:function(t){var e=(t=t||{}).duration||3e3,n=!1!==t.scrollIntoView,r=this.ad&&this.ad.filled&&this.ad.elements,i=r&&r[0];if(i){var o=r[0].classList;o.contains("rmax-highlight")||(o.add("rmax-highlight"),n&&i.scrollIntoView(),setTimeout((function(){o.remove("rmax-highlight")}),e))}}})})),r.shim("HttpAdService",(function(t){var e=t.prototype._getPlanRequestPath,n=t.prototype._getPlanRequestParams,r=t.prototype._getAdRequestPath;Object.assign(t.prototype,{_getPlanRequestPath:function(t){var n=e.apply(this,arguments);return t._demo&&(n=n.replace("/supply/v","/supply/demo/v")),n},_getPlanRequestParams:function(t){return Object.assign(n.apply(this,arguments),t._demo)},_getAdRequestPath:function(t){if(t._demo)throw new Error("Demo space should only send plan request");return r.apply(this,arguments)}})})),r.shim("NativeGroupedAdService",(function(t){var e=t.prototype._getPlanRequestParams,n=t.prototype._getPlanRequestPath;Object.assign(t.prototype,{_getPlanRequestPath:function(t){for(var e,r=n.apply(this,arguments),i=0,o=t.length;i<o&&(e=t[i]);i++)if(e.space._demo){r=r.replace("/supply/v","/supply/demo/v");break}return r},_getPlanRequestParams:function(t){for(var n,r,i=0,o=t.length;i<o&&(r=t[i]);i++)if(r.space._demo){n=r.space._demo;break}return Object.assign(e.apply(this,arguments),n)}})}))},function(t,e,n){(function(e){n(1);!function(){"use strict";var n,r,i,o=null,s="object"==typeof window,a=s?window:e,c=a.Promise,u=a.process,d=Array,h=0,p=1,l=2,f="iterator",m="species",_="Symbol("+m+")",g="return",v="_uh",y="Invalid argument",w="Chaining cycle detected for promise",b="rejectionHandled",E="unhandledRejection",A={e:o},x=function(){},R=a.Symbol||{},O=s?function(t){c?new c((function(t){t()})).then(t):setTimeout(t)}:u.nextTick,I=function(t){var e;if(!T(this)||this._s!==n)throw j("Invalid this");if(this._s=l,t!==x){if(!P(t))throw j(y);(e=C(t)(F(this,p),F(this,h)))===A&&z(this,h,e.e)}};function S(){return R[m]||_}function T(t){return t&&"object"==typeof t}function P(t){return"function"==typeof t}function k(t,e,n){if(!e(t))throw j(n)}function N(){try{return r.apply(i,arguments)}catch(t){return A.e=t,A}}function C(t,e){return r=t,i=e,N}function L(t,e){var r=d(t),i=0;function o(){for(var o=0;o<i;)e(r[o],r[o+1]),r[o++]=n,r[o++]=n;i=0,r.length>t&&(r.length=t)}return function(t,e){r[i++]=t,r[i++]=e,2===i&&O(o)}}function D(t,e){var n,r,i,o,s=0;if(!t)throw j(y);var a=t[R[f]];if(P(a))r=a.call(t);else{if(!P(t.next)){if(t instanceof d){for(n=t.length;s<n;)e(t[s],s++);return s}throw j(y)}r=t}for(;!(i=r.next()).done;)if((o=C(e)(i.value,s++))===A)throw P(r[g])&&r[g](),o.e;return s}function j(t){return new TypeError(t)}I.default=I,function(t,e){for(var n in e)t.prototype[n]=e[n]}(I,{then:function(t,e){if(void 0===this._s)throw j();return function(t,e,n,r){P(n)&&(e._onFulfilled=n);P(r)&&(t[v]&&$(b,t),e._onRejected=r);t[t._pCount++]=e,t._s!==l&&M(t,e);return e}(this,V((n=I,(r=this.constructor)&&r[S()]||n)),t,e);var n,r},catch:function(t){return this.then(n,t)},finally:function(t){return this.then((function(e){return I.resolve(t()).then((function(){return e}))}),(function(e){return I.resolve(t()).then((function(){throw e}))}))},_pCount:0,_pre:o,_Yaku:1}),I.resolve=function(t){return q(t)?t:W(V(this),t)},I.reject=function(t){return z(V(this),h,t)},I.race=function(t){var e=this,n=V(e),r=function(t){z(n,p,t)},i=function(t){z(n,h,t)},o=C(D)(t,(function(t){e.resolve(t).then(r,i)}));return o===A?e.reject(o.e):n},I.all=function(t){var e,n=this,r=V(n),i=[];function o(t){z(r,h,t)}return(e=C(D)(t,(function(t,s){n.resolve(t).then((function(t){i[s]=t,--e||z(r,p,i)}),o)})))===A?n.reject(e.e):(e||z(r,p,[]),r)},C((function(){Object.defineProperty(I,S(),{get:function(){return this}})}))(),I._Yaku=1;var M=L(999,(function(t,e){var r,i;(i=t._s?e._onFulfilled:e._onRejected)!==n?(r=C(H)(i,t._v))!==A?W(e,r):z(e,h,r.e):z(e,t._s,t._v)})),U=L(9,(function(t){(function t(e){if(e._umark)return!0;e._umark=!0;var n,r=0,i=e._pCount;for(;r<i;)if((n=e[r++])._onRejected||t(n))return!0})(t)||(t[v]=1,$(E,t))}));function $(t,e){var n="on"+t.toLowerCase(),r=a[n];u&&u.listeners(t).length?t===E?u.emit(t,e._v,e):u.emit(t,e):r&&r({reason:e._v,promise:e})}function q(t){return t&&t._Yaku}function V(t){return q(t)?new t(x):(e=new t((function(t,i){if(e)throw j();n=t,r=i})),k(n,P),k(r,P),e);var e,n,r}function F(t,e){return function(n){e===p?W(t,n):z(t,e,n)}}function H(t,e){return t(e)}function z(t,e,n){var r=0,i=t._pCount;if(t._s===l)for(t._s=e,t._v=n,e===h&&U(t);r<i;)M(t,t[r++]);return t}function W(t,e){if(e===t&&e)return z(t,h,j(w)),t;if(e!==o&&(P(e)||T(e))){var n=C(B)(e);if(n===A)return z(t,h,n.e),t;P(n)?q(e)?G(t,e,n):O((function(){G(t,e,n)})):z(t,p,e)}else z(t,p,e);return t}function B(t){return t.then}function G(t,e,n){var r=C(n,e)((function(n){e&&(e=o,W(t,n))}),(function(n){e&&(e=o,z(t,h,n))}));r===A&&e&&(z(t,h,r.e),e=o)}try{t.exports=I}catch(t){a.Yaku=I}}()}).call(this,n(45))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(10),i=n(8),o=n(5),s=n(6),a=n(17),c=n(14),u=n(3),d=o.elementBuilder,h=r.version;var p=1e9;t.exports={error:function(t,e,n){try{null==e&&(e=new Error),u.isAdcodeError(e)||(e=new u(u.TYPES.GENERAL_ERROR,e));var r=e.type,i=e.cause,o=r.code||u.TYPES.GENERAL_ERROR.code,d=e.context?Object.assign({},e.context):{};if(d.message=r.message+(i&&" caused by: "+function(t){return t instanceof window.Event?"["+t.constructor.name+"] "+t.type+": "+t.message:""+t}(i)||""),o===u.TYPES.GENERAL_ERROR.code&&i&&i.stack,!r.sampling||Math.random()<r.sampling){var p=Object.assign({version:h,referer:a.getHostObject().hrefAsReferer,errorCode:o,errorContext:d},n||{});s.post(t,p)}}catch(t){c.error(t)}e&&e.isUserError?window.console.error(e.cause||e):(e&&e.isWarning?c.warn:c.error)(e,n)},dmp:function(){if(!document.querySelector(".acvzdmp")){var t=function(t,e,n){e=e||document.body;var r=d("img",{src:n+t,$display:"none"});return e.appendChild(r),r}("/p/b734323b-0532-40a6-8d4e-782e1c96bd3a?random="+Math.floor(p*Math.random()),document.body,"https://dmp.tenmax.io");return void 0!==t&&(t.className="acvzdmp"),t}},getTimeSpentUrl:function(t){return t+"/supply/tracking/time/[rmaxSpaceId]/[type]/[cost]?t="+(new Date).getTime()+"&cacheBuster="+i()},setVersion:function(t){h=t}}},function(t,e,n){var r=n(3);function i(t){this._rmaxads=t,this._mods=[]}Object.assign(i.prototype,{registerModule:function(){var t=this._mods,e=this;return Array.prototype.forEach.call(arguments,(function(n){t.push({mod:n}),n.modName&&(e[n.modName]=n)})),this},createSpaceView:function(t){return this._getModule(t).createSpaceView(t)},destroy:function(){this._mods.forEach((function(t){t.instance&&t.instance.destroy(),t.mod.destroy&&t.mod.destroy()})),this._mods=void 0},_getModule:function(t){for(var e,n=this._mods,i=0,o=n.length;i<o&&(e=n[i]);i++){var s=e.mod;if(s.accept(t))return e.instance||(e.instance=new s(this._rmaxads))}throw new r(r.MODULE_ERROR,new Error("Cannot determine ad service module for space with type: "+t.type))}}),t.exports=i},function(t,e){t.exports={"473712dd87ca49ec":!0,"4ebc55d4dd614a79":!0,d6747acd8ca1482a:!0,"0de27a70903042ca":!0,b3916515dc7b4240:!0,d55b69b8ad4944e1:!0,bc14f6f668784f9a:!0,"144724ecebbb4431":!0,"32fc460cdf294227":!0,"70f7651e393a42ed":!0}},function(t,e){var n=Object.freeze({isEmpty:!0,isStrcitlyEmpty:!0,top:NaN,left:NaN,bottom:NaN,right:NaN,width:0,height:0,area:0,intersect:function(){return n},offset:function(){return n},contain:function(){return!1},equals:function(t){return t===n}});function r(t){if(t===n||t instanceof r)return t;if(t instanceof Window)t={top:0,left:0,bottom:t.innerHeight,right:t.innerWidth};else if(t instanceof Element&&0===(t=t.getBoundingClientRect()).top&&0===t.bottom&&0===t.left&&0===t.right&&0===t.width&&0===t.height)return n;if(this.top=t.top,this.left=t.left,this.bottom=t.bottom,this.right=t.right,this.width=this.right-this.left,this.height=this.bottom-this.top,this.isEmpty=this.width<=0||this.height<=0,this.isEmpty&&(this.width<0||this.height<0))return n;this.area=this.isEmpty?0:this.width*this.height,Object.freeze(this)}r.strictlyEmpty=function(){return n},r.prototype={isStrcitlyEmpty:!1,intersect:function(t){return t?t.isStrcitlyEmpty?r.strictlyEmpty():new r({top:Math.max(this.top,t.top),left:Math.max(this.left,t.left),bottom:Math.min(this.bottom,t.bottom),right:Math.min(this.right,t.right)}):this},offset:function(t){var e=t.top||t.y||0,n=t.left||t.x||0;return new r({top:this.top+e,left:this.left+n,bottom:this.bottom+e,right:this.right+n})},contain:function(t){return!(t=void 0!==t.x&&void 0!==t.y?new r({left:t.x,right:t.x,top:t.y,bottom:t.y}):new r(t)).isStrcitlyEmpty&&this.top<=t.top&&this.bottom>=t.bottom&&this.left<=t.left&&this.right>=t.right},equals:function(t){return t&&t!==n&&this.top===t.top&&this.left===t.left&&this.bottom===t.bottom&&this.right===t.right}},r.intersect=function(){return Array.prototype.reduce.call(arguments,(function(t,e){return e=new r(e),t&&t.intersect(e)||e}))},t.exports=r},function(t,e,n){var r,i,o=n(14);function s(){return!document[r]}void 0!==document.hidden?(r="hidden",i="visibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",i="webkitvisibilitychange");var a=[];function c(){var t=s();a.forEach((function(e){e(t)}))}t.exports={isVisible:s,observe:function(t){var e=function(t){var e;return function(n){if(n!==e){try{t(n)}catch(t){o.error(t)}e=n}}}(t);return 0===a.length&&document.addEventListener(i,c,!1),a.push(e),setTimeout((function(){e(s())}),0),function(){!function(t){var e=a.indexOf(t);e<0||(a.splice(e,1),0===a.length&&document.removeEventListener(i,c,!1))}(e)}}}},function(t,e,n){var r=n(1),i=n(0),o=n(4),s=n(31),a=n(8),c=n(12),u=n(52);function d(t,e){if(!t)throw new Error("Master object is required");if(!e)throw new Error("Space type is required");c.call(this,"space"),this.initializedAt=Date.now(),this.uuid=a(),this.rmaxads=this.master=t,this.type=e,this._init(),this.service=t.service.createSpaceView(this),this._setStatus(u.INITIALIZED)}i.inherit(d,c),Object.assign(d.prototype,{_init:o.nop,start$:function(){if(void 0!==this.startedAt)return r.resolve();try{return this.startedAt=(new Date).getTime(),this._setStatus(u.STARTED),this._emit("start"),this._start$().catch(this._fail.bind(this))}catch(t){this._fail(t)}},_start$:function(){var t=this;return s.promisify$(this._beforeGetPlan()).then(this._getPlan$.bind(this)).then((function(e){return e=t._afterGetPlan(e)||e,t._setPlan(e),e=t._beforeRunPlan(e)||e})).then(this._runPlan$.bind(this)).then((function(e){return e=t._afterRunPlan(e)||e,t._setAd(e),t._handleEvents(e)}))},_beforeGetPlan:o.nop,_getPlan$:function(){return this.service.getPlan$()},_afterGetPlan:o.nop,_setPlan:function(t){this.plan=t,this.sessionId=t.sessionId,this._emit("plan",t)},_beforeRunPlan:o.nop,_runPlan$:function(t){var e=this,n=t.channels.map((function(t){return function(){var n=t.modType?t.modType+"."+t.adType+(t.subType?"("+t.subType+")":""):t.type;return e._appendResult(n),e._emit("channel",t),e._trackChannelRequest(t),e._emit("track-request",t),e._runChannel$(t)}}));return s.promisify$(s.first(n))},_runChannel$:o.nop,_afterRunPlan:o.nop,_setAd:function(t){var e=t?"filled":"empty";this[e]=!0,this._setStatus(u.AD_DISPLAYED),this._appendResult(e),this._emit("display",t),this._emit(t?"fill":"empty")},_handleEvents:o.nop,_destroy:function(){this.service.destroy()},_fail:function(t){throw this._error(t),this._appendResult("fail"),this._emit("fail",t),t},_error:function(t){t&&t.isUserError||this._emit("error",t)},_setStatus:o.nop,_appendResult:o.nop}),Object.defineProperties(d.prototype,{started:{get:function(){return void 0!==this.startedAt}}}),t.exports=d},function(t,e){t.exports={INITIALIZED:"initialized",STARTED:"started",PLAN_REQUESTED:"plan requested",PLAN_RECEIVED:"plan received",ASIAMAX_AD_REQUESTED:"asiamax ad requested",ASIAMAX_AD_RECEIVED:"asiamax ad received",AD_CREATED:"ad created",AD_DISPLAYED:"ad displayed",AD_REQUEST_QUEUED:"request queued",AD_REQUEST_SENT:"request sent",AD_RESPONSE_RECEIVED:"response received"}},function(t,e,n){var r=n(0),i=n(8),o=n(12),s=n(3),a=n(54),c=n(55);function u(t){o.call(this,"tracker-manager"),this._container=t||document.body,this._trackers={}}r.inherit(u,o),Object.assign(u.prototype,{get:function(t){return this._trackers&&this._trackers[t]||[]},getTypes:function(){return this._trackers?Object.keys(this._trackers):[]},getAll:function(){var t=this._trackers;return this.getTypes().reduce((function(e,n){return e.concat(t[n]||[])}),[])},add:function(t,e){e&&0!==e.length&&(Array.isArray(e)||(e=[e]),0!==(e=e.map(this._processTracker.bind(this)).filter((function(t){return void 0!==t}))).length&&(this._trackers[t]=void 0!==this._trackers[t]?this._trackers[t].concat(e):e))},fire:function(t,e,n){var r=this._emit.bind(this),i=(this._trackers[t]||[]).filter((function(t){return!t.fired}));i.forEach((function(i){try{i.fire(e,n)}catch(e){r("error",new s(s.TYPES.TRACKER_ERROR,e,{eventType:t,trackerUrl:i}))}})),r("fire",t,i,e,n)},destroy:function(){var t=this._trackers;t&&Object.keys(t).forEach((function(e){(t[e]||[]).forEach((function(t){t.destroy()}))})),this._trackers=void 0,o.prototype._destroy.call(this)},_processArgs:function(t){return Object.assing(t,{timestamp:Date.now.bind(Date),cachebuster:i})},_processTracker:function(t){switch("string"==typeof t&&(t={type:"pixel",url:t}),void 0===t.type&&(t.type="iframe"),t.type){case"pixel":return new a(this._container,t.url);case"iframe":return new c(t.content)}}}),t.exports=u},function(t,e,n){var r=n(0),i=n(6),o=n(27);function s(t,e){o.call(this,"pixel"),this.container=t,this.url=e}r.inherit(s,o),Object.assign(s.prototype,{_fire:function(t,e){var n=this.renderedUrl=this._renderUrl(this.url,t,e),r=this.element=document.createElement("img");r.style.display="none",r.src=n,this._append(this.container,r)},_renderUrl:function(t,e,n){e=e||{},t=t.replace(/\[([^\[\]]*)\]/g,(function(t,n){var r=e[n];if("function"==typeof r)try{r=r()}catch(t){}return"string"==typeof r||"boolean"==typeof r||"number"==typeof r?r:t}));var r=n&&Object.keys(n);if(!r||0===r.length)return t;var o=i.encodeQueryParams(n);return t+(t.lastIndexOf("?")<0?o:"&"+o.substring(1))},destroy:function(){this.element&&this.element.removeAttribute("src"),o.prototype.destroy.apply(this,arguments)}}),t.exports=s},function(t,e,n){var r=n(0),i=n(5),o=n(27);function s(t){o.call(this,"iframe"),this.content=t}r.inherit(s,o),Object.assign(s.prototype,{_fire:function(t,e){var n=this.element=document.createElement("iframe");n.style.display="none",n.style.width=n.style.height="0",i.getLoadResult$(n),n.srcdoc=this.content.replace("</scr'+'ipt>","<\/script>"),this._append(document.body,n)}}),t.exports=s},function(t,e,n){var r=n(1),i=n(0),o=n(2),s=n(5),a=n(12),c=n(3);function u(t,e){a.call(this,"placement-manager"),e=e||{},this._doc=e.document||document,this._fallback=t,this._selector=e.selector,this._index=e.index,this._rootSelector=e.rootSelector,this.position=e.position||"INNER";var n=this;Object.defineProperty(this,"ref$",{value:new r((function(t,e){n._resolveRef=t,n._rejectRef=e}))})}i.inherit(u,a),Object.assign(u.prototype,{start:function(){if(this._selector){if(!this._trySetRef()){var t=s.handleDOMInserted(this._getRootElement(),this._trySetRef.bind(this));this.ref$.then(t,t)}}else this._setRef(this._fallback)},_getRootElement:function(){var t=this._rootSelector;if(!t){var e=new Error("Ref element not found, and root selector is absent");throw new c(c.TYPES.SPACE_ELEMENT_NOT_FOUND,e,{selector:this._selector,index:this._index})}var n=this._doc.querySelector(t);if(!n){e=new Error("Ref element not found, and root element is also not found");throw new c(c.TYPES.SPACE_ELEMENT_NOT_FOUND,e,{selector:this._selector,index:this._index,rootSelector:t})}return n},_trySetRef:function(){var t=this._computeRef();return t&&this._setRef(t),t},_setRef:function(t){Object.defineProperty(this,"ref",{value:t}),this._emit("ref",t),this._resolveRef(t)},_computeRef:function(){var t;try{t=this._doc.querySelectorAll(this._selector)}catch(t){throw new c(c.TYPES.SPACE_ELEMENT_NOT_FOUND,t,{selector:this._selector,index:this._index})}return t[-1===Number(this._index)?t.length-1:this._index||0]}}),o.register("PlacementManager",u),t.exports=u},function(t,e,n){var r,i=n(2),o=n(10),s=n(29),a=n(58),c='<div id="freakout">';function u(){}Object.assign(u.prototype,{get$:function(t,e,n,r){t=this._normalizeContainer(t);var i=this._buildIframeContent(e,function(t){var e=t.indexOf('type="text/rfp-infeed-template"');if(e<0)return t;e=t.indexOf(c,e);var n=t.indexOf("<\/script>",e);return n=t.lastIndexOf("</div>",n),t.substring(e+c.length,n).trim()}(n),r);return this._setupIFrame$(t,i).then(this._getIframeDoc$.bind(this)).then(this._readAd$.bind(this))},_setupIFrame$:function(t,e){return s.FIF$({$display:"none",$margin:"0px",$padding:"0px",content:e},t)},_normalizeContainer:function(t){return t.ownerDocument.body},_buildIframeContent:function(t,e,n){return t&&n?a.replace(new RegExp("{{hikeId}}","g"),t).replace("{{template}}",e).replace("{{clickUrlPrefix}}",n):e},_getIframeDoc$:function(t){return o.waitFor$(100,10,(function(){try{return t.contentWindow.document}catch(t){return}}))},_readAd$:function(t){return o.waitFor$(100,100,this._readAd.bind(this,t)).catch(this._handleTimeout.bind(this)).then((function(t){return""===t?void 0:t}))},_readAd:function(t){var e=t.getElementById("freakout");return e?e.innerHTML:t.querySelector("[data-rfp-adspot-id]")?void 0:""},_handleTimeout:function(t){}}),i.register("FreakOutAdService",u),t.exports=function(){return r||(r=new u)}},function(t,e){t.exports='<html>\n  <head>\n    <script type="text/rfp-infeed-template" data-adspot-id="{{hikeId}}"><div id="freakout">{{template}}</div><\/script>\n  </head>\n  <body>\n    <div data-rfp-adspot-id="{{hikeId}}" style="display: none"></div>\n    <script src="https://js.rfp.fout.jp/rfp-infeed.js"><\/script>\n<script type="text/javascript">\n  window.RFP.InFeed.Default.run({\n    immediately: true,\n    before_render: function(adInfo, placementInfo) {\n      console.log(adInfo, placementInfo);\n      // TODO\n      adInfo.click_url = \'{{clickUrlPrefix}}\' + encodeURIComponent(adInfo.click_url);\n      return adInfo;\n    }\n  });\n<\/script>\n  </body>\n</html>\n'},function(t,e){var n={TAG:0,ID:1,CLASS:2,ATTR_KEY:3,ATTR_VALUE:4,NONE:5};function r(t){var e,r=t.length,i=function(t,e){for(var n,r=t.split(""),i=r.length,o=!1,s=!1,a=0;a<i;a++)n=r[a],o?'"'===n?o=!1:r[a]=e:s?"'"===n?s=!1:r[a]=e:'"'===n?o=!0:"'"===n&&(s=!0);return r.join("")}(t,"*"),o=0,s=n.TAG,a={tag:"div"};function c(){throw new Error("Illegal syntax: "+t)}function u(r,i){var c=t.substring(o,i);switch(s){case n.TAG:""!==c&&(a.tag=c);break;case n.ID:a.id=c;break;case n.CLASS:(a.classes||(a.classes=[])).push(c);break;case n.ATTR_KEY:e=c.trim();break;case n.ATTR_VALUE:(a.attributes||(a.attributes={}))[e]=function(t){if(!t||t.length<2)return t;var e=t[0],n=t.length-1;return"'"!==e&&'"'!==e||e!==t[n]?t:t.substring(1,n)}(c.trim()).trim(),e=void 0}o=i+1,s=r}for(var d=0;d<r;d++)switch(i[d]){case"#":u(n.ID,d);break;case".":u(n.CLASS,d);break;case"[":case"(":u(n.ATTR_KEY,d);break;case"=":s!==n.ATTR_KEY&&c(),u(n.ATTR_VALUE,d);break;case"]":case")":s!==n.ATTR_VALUE&&c(),u(n.NONE,d)}return u(),a}t.exports={toElement:function(t,e){var n=r(t);e=e||document.createElement(n.tag),n.id&&(e.id=n.id),n.classes&&e.classList.add.apply(e.classList,n.classes);var i=n.attributes||{};return Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),e},toHtml:function(t){var e=r(t),n=e.tag,i=Object.assign({},e.id&&{id:e.id},e.classes&&{class:e.classes.join(" ")},e.attributes);return"<"+n+Object.keys(i).reduce((function(t,e){return t+" "+e+'="'+i[e]+'"'}),"")+"></"+n+">"}}},function(t,e,n){var r,i,o,s=n(1),a=n(0),c=n(11),u=n(6),d=n(26),h=new(window.WeakMap||d);r=window,i=h,(o=r.googletag=r.googletag||{}).cmd=o.cmd||[],o.cmd.push((function(){o.pubads().addEventListener("slotRenderEnded",(function(t){var e=i.get(t.slot);e&&e._handleRenderEnd(t)})),o.pubads().enableSingleRequest(),o.pubads().collapseEmptyDivs(!0),o.pubads().enableAsyncRendering(),o.enableServices()}));var p=Math.pow(10,9),l=Math.pow(10,8),f=Math.floor(Math.random()*(p-l))+l,m=0;var _=["advertiserId","campaignId","creativeId","isEmpty","lineItemId","sourceAgnosticLineItemId","sourceAgnosticCreativeId","size"];function g(t,e){if(c.call(this,"gpt"),this._options=e=e||{},this._element=t,!t)throw new Error("Element is required.");this._elementId=t.id||"div-gpt-ad-"+f+"-"+m++,this._validate(e)}a.inherit(g,c),Object.assign(g.prototype,{display$:function(){var t=this,e=this._options;!function(){var t=window.googletag;t&&t.apiReady?s.resolve():u.loadJS$("//www.googletagservices.com/tag/js/gpt.js","async")}();var n=this._element,r=this._elementId;n.setAttribute("id",r);var i=new s((function(e,n){t._resolveRendered=e})),o=window.googletag;return o.cmd.push((function(){var n=t._slot=o.defineSlot(e.adUnit,e.size,r);h.set(n,t);var i=e.targeting||{};Object.keys(i).forEach((function(t){n.setTargeting(t,i[t])}));var s=e.variables||{};Object.keys(s).forEach((function(t){n.set(t,s[t])})),n.addService(o.pubads()),o.display(r);try{o.pubads().isInitialLoadDisabled()&&o.pubads().refresh([n])}catch(t){}})),i},destroy:function(){c.prototype.destroy.apply(this,arguments)},_validate:function(t){if("string"!=typeof t.adUnit)throw new Error("adUnit is required.");if(!t.size)throw new Error("size is required.")},_handleRenderEnd:function(t){var e=this;_.forEach((function(n){e[n]=t[n]})),this._resolveRendered&&this._resolveRendered(!t.isEmpty)}}),t.exports=g},function(t,e,n){var r=n(0),i=n(2),o=n(33),s=n(7);function a(t){o.call(this,t,"native"),this._planRequestPath="/supply/v2/native/plan",this._adRequestPath="/supply/v2/native/ad"}r.inherit(a,o),Object.assign(a.prototype,{}),a.accept=function(t){return t.type===s.NATIVE},i.register("NativeAdService",a),t.exports=a},function(t,e,n){var r=n(0),i=n(2),o=n(8),s=n(6),a=n(3),c=n(34);function u(t,e){c.call(this,t,e)}r.inherit(u,c),Object.assign(u.prototype,{getPlan$:function(t){var e=this._getPlanRequestUrl(t),n=this;return this._get$(e).catch((function(t){throw new a(a.TYPES.PLAN_REQUEST_FAILURE,t,{requestUrl:e})})).then((function(r){try{return n._parsePlanResponse(r,t)}catch(t){throw new a(a.TYPES.INVALID_SSP_PLAN_RESPONSE,t,{requestUrl:e})}}))},_getApiHost:function(){return this._rmaxads.adHost},_getApiUrl:function(t,e){return e.cacheBuster=o(),this._getApiHost()+t+s.encodeQueryParams(e)},_getPlanRequestUrl:function(t){return this._getApiUrl(this._getPlanRequestPath(t),this._getPlanRequestParams(t))},_getPlanRequestPath:function(t){return this._planRequestPath},_getPlanRequestParams:function(t){return Object.assign({rmaxSpaceId:t.spaceId},this._getCommonParams(t))},_getCommonParams:function(t){return r.trim({referer:this._rmaxads.referer,slotWidth:t.width,slotHeight:t.height,lang:this._rmaxads.lang})},_parsePlanResponse:function(){throw new Error("Unimplemented")},_requestAsiaMaxAd$:function(t,e,n){var r=this._getAdRequestUrl(t,e,n),i=this;return this._get$(r).catch((function(t){throw new a(a.TYPES.AD_REQUEST_FAILURE,t,{requestUrl:r})})).then((function(e){try{return i._parseAdResponse(e,t,n)}catch(t){throw new a(a.TYPES.INVALID_SSP_AD_RESPONSE,t,{requestUrl:r})}}))},_getAdRequestUrl:function(t,e,n){return this._getApiUrl(this._getAdRequestPath(t,n),this._getAdRequestParams(t,e,n))},_getAdRequestPath:function(t,e){return this._adRequestPath},_getAdRequestParams:function(t,e,n){return r.trim({rmaxSpaceId:t.spaceId,sessionId:e,type:n.type,id:n.id,subtype:n.subtype,index:n.index,dealIds:n.dealIds,ics:n.ics},this._getCommonParams(t))},_parseAdResponse:function(){throw new Error("Unimplemented")},_get$:function(t){return this._rmaxads._get$(t)}}),i.register("HttpAdService",u),t.exports=u},,,,,function(t,e,n){n(20).autoStart()},function(t,e,n){var r=n(20),i=n(7),o=n(69),s=n(70),a=n(61);r.register(i.NATIVE_GROUPED,{selector:'.rmax[data-rmax-space-type="NATIVE"][data-rmax-group-id]',spaceModule:o}),r.register(i.NATIVE,{selector:'.rmax[data-rmax-space-type="NATIVE"]',spaceModule:o}),r.service.registerModule(s,a)},function(t,e,n){var r=n(15),i=n(0),o=n(7),s=n(24),a=n(37),c=n(22),u=function(t,e,n){var i=e.getAttribute("data-rmax-group-id")?o.NATIVE_GROUPED:o.NATIVE;r.call(this,t,i,e,n)};i.inherit(u,r),Object.assign(u.prototype,{_beforeGetPlan:function(){return this.placement.start(),this._setupSpaceElement(),this.placement.ref$},_readAttributes:function(){r.prototype._readAttributes.apply(this,arguments),this._readPlacementAttributes()},_createAd:function(t){switch(t.type){case"freakout":return new a(this,t);case"doubleclick.native":case"doubleclick.banner":case"doubleclick3rdparty.native":case"doubleclick3rdparty.banner":return new c(this,t);case"asiamax.native":case"pmp":case"custom-tag":return new s(this,t);default:throw this._unrecognizedChannelTypeError(this.sessionId,t.type)}}}),t.exports=u},function(t,e,n){var r=n(1),i=n(0),o=n(2),s=n(61),a=n(7);function c(){this._entries=[],this._pendingSpaceUuids={};var t=this;this.result$=new r((function(e,n){t._resolve=e,t._reject=n}))}function u(t,e){this._service=t,this._groupId=e,this._request=new c,this._requested=!1,this._pending=!1}function d(t){s.call(this,t,"native-grouped"),this._planRequestPath="/supply/v2/native/grouped-plan",this._queue={}}Object.defineProperty(c.prototype,"ready",{get:function(){return 0===Object.keys(this._pendingSpaceUuids).length}}),Object.defineProperty(c.prototype,"length",{get:function(){return Object.keys(this._pendingSpaceUuids).length+this._entries.length}}),Object.assign(c.prototype,{register:function(t){this._pendingSpaceUuids[t.uuid]=!0},unregister:function(t){delete this._pendingSpaceUuids[t.uuid]},add$:function(t){var e={space:t},n=e.result$=new r((function(t,n){e._resolve=t,e._reject=n}));return this._entries.push(e),this.unregister(t),n},resolve:function(t){for(var e=0,n=this._entries.length;e<n;e++)this._entries[e]._resolve(t[e])},reject:function(t){for(var e=0,n=this._entries.length;e<n;e++)this._entries[e]._reject(t)}}),Object.assign(u.prototype,{register:function(t){if(this._requested)throw new Error("Grouped request already sent");this._request.register(t)},unregister:function(t){this._requested||(this._request.unregister(t),this._next())},getPlan$:function(t){if(this._requested)throw new Error("Grouped request already sent");var e=this._request.add$(t);return this._next(),e},_next:function(){this._requested||this._pending||!this._request.ready||0===this._request.length||this._dispatch$()},_dispatch$:function(){this._pending=!0;var t=this._request,e=this;function n(){e._pending=!1,e._requested=!0}this._service._dispatchPlanRequest$(t._entries).then((function(e){t.resolve(e),n()}),(function(e){t.reject(e),n()}))}}),i.inherit(d,s),Object.assign(d.prototype,{registerSpace:function(t){this._getQueue(t.groupId).register(t)},unregisterSpace:function(t){this._getQueue(t.groupId).unregister(t)},getPlan$:function(t){return this._getQueue(t.groupId).getPlan$(t)},_getQueue:function(t){return this._queue[t]||(this._queue[t]=new u(this,t))},_dispatchPlanRequest$:function(t){return s.prototype.getPlan$.call(this,t)},_getPlanRequestParams:function(t){var e=t[0].space,n=t.map((function(t){return t.space.spaceId})).join(",");return Object.assign({rmaxSpaceIds:n},this._getCommonParams(e))},_processPlanResponse:function(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(s.prototype._processPlanResponse.call(this,t[r],e[r].space));return n},_requestAsiaMaxAd$:function(){throw new Error}}),d.accept=function(t){return t.type===a.NATIVE_GROUPED},o.register("NativeGroupedAdService",d),t.exports=d},function(t,e,n){var r=n(20),i=n(7),o=n(72),s=n(73),a=n(74),c=n(77);r.register(i.BANNER_MODE_ONE,{selector:'.rmax[data-rmax-space-type="BANNER"][data-mode="1"]',spaceModule:s}),r.register(i.BANNER,{selector:'.rmax[data-rmax-space-type="BANNER"]',spaceModule:o}),r.service.registerModule(a,c)},function(t,e,n){var r=n(0),i=n(7),o=n(15),s=n(38),a=n(22);function c(t,e,n){o.call(this,t,i.BANNER,e,n),this._assertSize()}r.inherit(c,o),Object.assign(c.prototype,{_setupSpaceElement:function(){this.element.style.display="inline-block"},_createAd:function(t){switch(t.modType){case"asiamax":switch(t.adType){case"banner":return new s(this,t)}throw this._unrecognizedChannelTypeError(this.sessionId,t.modType+"/"+t.adType);case"doubleclick":case"doubleclick3rdparty":return new a(this,t);default:return new s(this,t)}}}),t.exports=c},function(t,e,n){var r=n(0),i=n(7),o=n(15),s=n(22);function a(t,e,n){o.call(this,t,i.BANNER_MODE_ONE,e,n),this._assertSize()}r.inherit(a,o),Object.assign(a.prototype,{_setupSpaceElement:function(){var t=this.element.style;t.display="inline-block",t.width=this.width+"px",t.height=this.height+"px"},_createAd:function(){return new s(this,{type:"doubleclick.banner",spaceCountry:this.spaceCountry,publisherDomain:this.targetOrigin})}}),t.exports=a},function(t,e,n){var r=n(1),i=n(0),o=n(2),s=n(75),a=n(34),c=n(76),u=n(7);function d(t){a.call(this,t,"banner-mode-1")}i.inherit(d,a),Object.assign(d.prototype,{getPlan$:function(t){var e=s();return r.resolve({sessionId:e,channels:[{modType:"doubleclick",adType:"banner",type:"doubleclick.banner",index:0,spaceCountry:t.spaceCountry,publisherDomain:t.publisherDomain,width:t.width,height:t.height,trackers:this._getTrackers(t,e)}]})},_getTrackers:function(t,e){return c(t.rmaxads).bannerMode1(t,e)}}),d.accept=function(t){return t.type===u.BANNER_MODE_ONE},o.register("BannerMode1Service",d),t.exports=d},function(t,e){for(var n=window.Uint8Array&&window.crypto&&window.crypto.getRandomValues?function(){var t=new window.Uint8Array(16);return window.crypto.getRandomValues(t),t}:function(){for(var t,e=new Array(16),n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e},r=[],i=0;i<256;i++)r[i]=(i+256).toString(16).substr(1);var o,s,a=Date.now||function(){return(new Date).getTime()},c=0,u=0;t.exports=function(){if(void 0===o||void 0===s){var t=n();void 0===o&&(o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),void 0===s&&(s=16383&(t[6]<<8|t[7]))}var e=a(),i=u+1;e-c+(i-u)/1e4<0&&(s=s+1&16383),c=e,u=i;var d=[],h=1e4*(268435455&(e+=122192928e5))+i&4294967295;d.push(h>>>24&255),d.push(h>>>16&255),d.push(h>>>8&255),d.push(255&h);var p=e/4294967296*1e4;return d.push(p>>>8&255),d.push(255&p),d.push(p>>>24&15|16),d.push(p>>>16&255),d.push(s>>>8|128),d.push(255&s),function(t){var e=0;function n(n){for(var i="",o=0;o<n;o++)i+=r[t[e++]];return i}return n(4)+"-"+n(2)+"-"+n(2)+"-"+n(2)+"-"+n(6)}(d=d.concat(o))}},function(t,e,n){var r=n(2),i=n(6);function o(t){this._rmaxads=t}Object.assign(o.prototype,{bannerMode1:function(t,e){return{request:[this._url("/supply/tracking/banner-mode-1/request",{bid:e,rmaxSpaceId:t.spaceId,slotWidth:t.width,slotHeight:t.height})],impression:[this._url("/supply/tracking/impression",{bid:e,sid:t.spaceId,ct:"doubleclick.banner",chid:"banner-mode-1/dcb",ci:0})],viewable:[this._url("/supply/tracking/viewable",{bid:e,sid:t.spaceId,noAd:0})]}},_url:function(t,e){return this._rmaxads.trackingHost+t+i.encodeQueryParams(e||{})}}),r.register("TrackingUrlGenerator",o),t.exports=function(t){return new o(t)}},function(t,e,n){var r=n(0),i=n(2),o=n(39),s=n(7);function a(t){o.call(this,t,"banner"),this._apiRootPath="/supply/v3/banner",this._planRequestPath=this._apiRootPath+"/plan",this._adRequestPath=this._apiRootPath+"/ad"}r.inherit(a,o),Object.assign(a.prototype,{}),a.accept=function(t){return t.type===s.BANNER},i.register("BannerAdService",a),t.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(41),n(68),n(71),n(67)},,,,,function(t,e,n){n(40),t.exports=n(112)}]);